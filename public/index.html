<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Filmes HD</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <header>
    <h1>üé¨ FilmesHD</h1>
    <nav>
      <ul>
        <li><a href="index.html">In√≠cio</a></li>
        <li><a href="calendario.html">Calend√°rio</a></li>
        <li><a href="favoritos.html">Favoritos</a></li>
        <li><a href="cadastro.html">Cadastrar</a></li>
        <li><a href="login.html">Login</a></li>
      </ul>
    </nav>

    <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://tm.ibxk.com.br/2022/07/24/24003758882016.jpg" class="d-block w-100" alt="marvel">
          <div class="carousel-caption d-none d-md-block">
            <h5>Vingadores: Ultimato</h5>
            <p>Este filme √© a culmina√ß√£o de mais de 20 filmes do MCU.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="http://noset.com.br/wp-content/uploads/2016/03/d0-1.jpg" class="d-block w-100" alt="demolidor filme">
          <div class="carousel-caption d-none d-md-block">
            <h5>Demolidor: Renascido</h5>
            <p>Quando suas identidades passadas come√ßam a emergir, seus caminhos se cruzam perigosamente.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="https://static1.srcdn.com/wordpress/wp-content/uploads/2024/11/gladiator-ii-poster-header.jpg" class="d-block w-100" alt="gladiador II">
          <div class="carousel-caption d-none d-md-block">
            <h5>Gladiador II</h5>
            <p>Estrelado por Paul Mescal, Denzel Washington, Connie Nielsen, Joseph Quinn e Pedro Pascal.</p>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Pr√≥ximo</span>
      </button>
    </div>

  </header>

  <section class="banner">
    <h2>Os melhores filmes em Alta do momento!</h2>
    <p>Assista aos melhores lan√ßamentos de 2025 em alta defini√ß√£o!</p>
  </section>

  <main>
     <section class="pesquisa container my-4">
  <input type="text" id="campo-pesquisa" class="form-control" placeholder="Pesquise o que deseja assistir...">
</section>

<section class="filmes-grid" id="lista-filmes">
    </section>

   
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function exibirFilmesNaHome() {
      const filmes = JSON.parse(localStorage.getItem('filmes')) || [];
      const container = document.getElementById('lista-filmes');

      if (filmes.length === 0) {
        container.innerHTML = '<p>Nenhum filme cadastrado.</p>';
        return;
      }

      container.innerHTML = filmes.map((filme, index) => {
  const favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];
  const favoritado = favoritos.some(fav => fav.titulo === filme.titulo);

  return `
    <div class="filme" style="margin-bottom: 20px;">
      <img src="${filme.imagem}" alt="${filme.titulo}" style="max-width: 200px;" />
      <h3>${filme.titulo}</h3>
      <p>${filme.ano || ''}</p>
      <a href="detalhes.html?id=${index}">Ver detalhes</a><br>
      <button class="btn btn-outline-danger mt-2" onclick="toggleFavorito(${index}, this)">
        <i class="${favoritado ? 'fas' : 'far'} fa-heart"></i>
      </button>
    </div>
  `;
}).join('');

document.getElementById('campo-pesquisa').addEventListener('input', function() {
  const termo = this.value.toLowerCase();
  const filmes = JSON.parse(localStorage.getItem('filmes')) || [];
  const filtrados = filmes.filter(filme => 
    filme.titulo.toLowerCase().includes(termo)
  );

  const container = document.getElementById('lista-filmes');

  if (filtrados.length === 0) {
    container.innerHTML = '<p>Nenhum filme encontrado.</p>';
    return;
  }

  container.innerHTML = filtrados.map((filme, index) => `
    <div class="filme" style="margin-bottom: 20px;">
      <img src="${filme.imagem}" alt="${filme.titulo}" style="max-width: 200px;" />
      <h3>${filme.titulo}</h3>
      <p>${filme.ano || ''}</p>
      <a href="detalhes.html?id=${index}">Ver detalhes</a>
    </div>
  `).join('');
});

    }

    exibirFilmesNaHome();

    function inicializarFilmes() {
    const filmesSalvos = JSON.parse(localStorage.getItem('filmes'));
    if (!filmesSalvos || filmesSalvos.length === 0) {
      const filmesIniciais = [
        {
          titulo: "O Rei Le√£o",
          ano: "2019",
          imagem: "https://br.web.img3.acsta.net/pictures/19/05/07/20/54/2901026.jpg",
          descricao: "Remake do cl√°ssico da Disney."
        },
        {
          titulo: "Como Treinar o Seu Drag√£o",
          ano: "2025",
          imagem: "https://oregional.com.br/media/blog/ebb532cfdf7e735d515b4ed2ceb789fd.jpg",
          descricao: "Nova aventura do Solu√ßo e Banguela."
        },
        {
          titulo: "Premoni√ß√£o 6",
          ano: "2025",
          imagem: "https://api.claquete.com.br/uploads/poster/16499_medio.jpg",
          descricao: "Mais um cap√≠tulo da franquia de terror."
        },
        {
          titulo: "Conclave",
          ano: "2024",
          imagem: "https://cliomakeupcdn-61d1.kxcdn.com/wp-content/uploads/2025/02/conclave-film-poster.jpeg",
          descricao: "Um suspense pol√≠tico no Vaticano."
        },
        {
          titulo: "Ainda Estou Aqui",
          ano: "2024",
          imagem: "https://a-static.mlcdn.com.br/800x560/poster-cartaz-ainda-estou-aqui-posterflix/poparteskins2/pos-03947-60x90cm/68a05526ef1de4da251517260a6e108b.jpeg",
          descricao: "Um drama emocionante."
        },
        {
          titulo: "Gladiador II",
          ano: "2024",
          imagem: "https://fr.web.img5.acsta.net/img/d6/5b/d65be9c3a6f9dc13a987f71c59351855.jpg",
          descricao: "Continua√ß√£o do cl√°ssico Gladiador."
        }
      ];
      localStorage.setItem('filmes', JSON.stringify(filmesIniciais));
    }
  }

  inicializarFilmes();
  exibirFilmesNaHome();

  function favoritar(index) {
  const filmes = JSON.parse(localStorage.getItem('filmes')) || [];
  const favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];

  const filme = filmes[index];

  // Verifica se j√° est√° nos favoritos
  if (!favoritos.some(fav => fav.titulo === filme.titulo)) {
    favoritos.push(filme);
    localStorage.setItem('favoritos', JSON.stringify(favoritos));
    alert(`${filme.titulo} foi adicionado aos favoritos!`);
  } else {
    alert(`${filme.titulo} j√° est√° nos favoritos!`);
  }
}

function toggleFavorito(index, button) {
  const filmes = JSON.parse(localStorage.getItem('filmes')) || [];
  let favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];
  const filme = filmes[index];

  const jaFavoritado = favoritos.some(fav => fav.titulo === filme.titulo);

  if (jaFavoritado) {
    
    favoritos = favoritos.filter(fav => fav.titulo !== filme.titulo);
    button.querySelector('i').classList.remove('fas');
    button.querySelector('i').classList.add('far');
  } else {
    
    favoritos.push(filme);
    button.querySelector('i').classList.remove('far');
    button.querySelector('i').classList.add('fas');
  }

  localStorage.setItem('favoritos', JSON.stringify(favoritos));
}

  </script>

  <section class="sobre">
        <div class="sobre-mim">
          <img src="mariPerfil.png" class="perfil d-block w-25" alt="aluna">
            <h2>Sobre mim</h2>
            <p>Sempre gostei de tecnologia e, agora, estou buscando aprender mais para transformar minhas ideias em projetos criativos!</p>
        </div>

        <div class="infos">
            <h2>Informa√ß√µes</h2>
            <p><strong>Aluno:</strong> Mariana Fonseca Viana</p>
            <p><strong>Curso:</strong> Ci√™ncias da Computa√ß√£o</p>
            <p><strong>Turma:</strong> Manh√£</p>
            <p>
                <strong>Me siga nas redes sociais! </strong>
                <a href="https://instagram.com/mari.fviana" target="_blank">
                    <i class="fab fa-instagram"></i>
                </a>
            </p>
        </div>
    </section>

  <footer>
    <p>&copy; 2025 FilmesHD. Todos os direitos reservados.</p>
  </footer>
</body>
</html>
